<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carrito | Capt. Wayne Charters</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;800&display=swap" rel="stylesheet" />
  <style>
    body { 
      font-family: 'Outfit', sans-serif;
      background-image: url('https://media.istockphoto.com/id/184600243/photo/coral-reef-roatan-honduras.jpg?s=612x612&w=0&k=20&c=-tvn8IxjLPQnW-NWD2cqKaR7ZXRY0X2OFh2cIvfiqh4=');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-repeat: no-repeat;
      color: #1f2937;
    }
    .logo-text {
      font-family: 'Times New Roman', serif;
      font-size: 1.2rem;
      font-weight: bold;
      color: #facc15;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    section, table {
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 0.75rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body class="text-gray-800">

  <!-- Navbar -->
  <header class="absolute top-0 left-0 w-full z-50">
    <nav class="flex flex-wrap justify-between items-center px-6 py-4 bg-gradient-to-b from-black/70 to-transparent text-white">
      <div class="logo-text">Capt. Wayne Charters</div>
      <ul class="hidden md:flex space-x-6 font-medium text-base items-center">
        <li><a href="index.html" class="hover:text-yellow-300 transition">Inicio</a></li>
        <li><a href="tours.html" class="hover:text-yellow-300 transition">Tours</a></li>
        <li><a href="galeria.html" class="hover:text-yellow-300 transition">Galería</a></li>
        <li><a href="mapa.html" class="hover:text-yellow-300 transition">Mapa</a></li>
        <li><a href="sobrenosotros.html" class="hover:text-yellow-300 transition">Sobre Nosotros</a></li>
        <li><a href="calendario.html" class="hover:text-yellow-300 transition">Calendario</a></li>
        <li><a href="contacto.html" class="hover:text-yellow-300 transition">Contacto</a></li>
        <li>
          <a href="carrito.html" class="relative flex items-center hover:text-yellow-400 transition">
            🛒 <span class="ml-1">Carrito</span>
            <span id="cart-count" class="ml-1 bg-yellow-400 text-xs text-black px-2 py-0.5 rounded-full">0</span>
          </a>
        </li>
      </ul>
    </nav>
  </header>

  <!-- Título -->
  <section class="bg-gradient-to-r from-teal-700 to-cyan-600 text-white py-12 text-center shadow-md mx-6 md:mx-20 mt-28 rounded-lg">
    <h1 class="text-4xl font-extrabold tracking-tight">Tu Carrito de Compras</h1>
    <p class="text-lg mt-2 text-white/90">Revisa los tours que quieres reservar</p>
  </section>

  <!-- Tabla de Carrito -->
  <section class="py-12 px-4 md:px-20 mx-6 md:mx-20 rounded-lg shadow-lg overflow-x-auto">
    <table class="min-w-full bg-white rounded-lg overflow-hidden">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Tour</th>
          <th class="px-4 py-3 text-center text-sm font-semibold text-gray-700">Precio</th>
          <th class="px-4 py-3 text-center text-sm font-semibold text-gray-700">Cantidad</th>
          <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Subtotal</th>
          <th class="px-4 py-3"></th>
        </tr>
      </thead>
      <tbody id="cart-items">
        <!-- Fila de ejemplo -->
        <tr class="border-b">
          <td class="px-4 py-3">Snorkeling Premium</td>
          <td class="px-4 py-3 text-center">$100</td>
          <td class="px-4 py-3 text-center">
            <input type="number" class="w-16 px-2 py-1 border rounded text-center qty" value="1" min="1" />
          </td>
          <td class="px-4 py-3 text-right subtotal">$100</td>
          <td class="px-4 py-3 text-center">
            <button class="remove text-red-500 hover:underline">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Resumen y Checkout -->
    <div class="mt-8 max-w-md ml-auto">
      <div class="flex justify-between text-lg font-semibold">
        <span>Total:</span>
        <span id="cart-total">$100</span>
      </div>
      <button id="checkout" class="mt-4 w-full bg-yellow-400 text-gray-900 py-3 rounded-full font-semibold hover:bg-yellow-300 transition">
        Proceder al Pago
      </button>
    </div>
  </section>

  <!-- Formulario de Pago (oculto inicialmente) -->
  <section id="payment-form" class="hidden py-12 px-4 md:px-20 bg-gray-50 mx-6 md:mx-20 rounded-lg shadow-lg">
    <div class="max-w-lg mx-auto bg-white p-8 rounded-xl shadow-lg">
      <h2 class="text-2xl font-bold text-teal-700 mb-6 text-center">Datos de Pago</h2>
      <form id="form-pago" class="space-y-4">
        <div>
          <label class="block text-gray-700 mb-1">Nombre Completo</label>
          <input type="text" id="name" class="w-full px-4 py-2 border rounded" placeholder="Tu nombre" required />
        </div>
        <div>
          <label class="block text-gray-700 mb-1">Correo Electrónico</label>
          <input type="email" id="email" class="w-full px-4 py-2 border rounded" placeholder="ejemplo@correo.com" required />
        </div>
        <div>
          <label class="block text-gray-700 mb-1">Número de Tarjeta</label>
          <input type="text" id="card-number" class="w-full px-4 py-2 border rounded" placeholder="1234 5678 9012 3456" required />
        </div>
        <div class="flex space-x-4">
          <div class="w-1/2">
            <label class="block text-gray-700 mb-1">Expiración (MM/AA)</label>
            <input type="text" id="expiry" class="w-full px-4 py-2 border rounded" placeholder="08/25" required />
          </div>
          <div class="w-1/2">
            <label class="block text-gray-700 mb-1">CVC</label>
            <input type="text" id="cvc" class="w-full px-4 py-2 border rounded" placeholder="123" required />
          </div>
        </div>
        <div>
          <label class="block text-gray-700 mb-1">Dirección de Facturación</label>
          <input type="text" id="address" class="w-full px-4 py-2 border rounded" placeholder="Calle, Ciudad, País" required />
        </div>
        <button type="submit" class="w-full bg-teal-700 text-white py-3 rounded-full font-semibold hover:bg-teal-600 transition mt-4">
          Confirmar Reserva
        </button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-100 text-gray-700 text-center py-6 mt-12 rounded-lg mx-6 md:mx-20">
    <p class="text-sm">&copy; 2025 Capt. Wayne Charters. Todos los derechos reservados.</p>
  </footer>

  <!-- JavaScript para manejo de carrito y pago -->
  <script>
    const cartItemsContainer = document.getElementById('cart-items');
    const cartCount = document.getElementById('cart-count');
    const cartTotalEl = document.getElementById('cart-total');
    const checkoutBtn = document.getElementById('checkout');
    const paymentFormSection = document.getElementById('payment-form');
    const paymentForm = document.getElementById('form-pago');

    function updateCart() {
      let total = 0;
      const rows = cartItemsContainer.querySelectorAll('tr');
      rows.forEach(row => {
        const price = parseFloat(row.querySelector('td:nth-child(2)').innerText.replace('$', ''));
        const qty = parseInt(row.querySelector('.qty').value, 10);
        const subtotal = price * qty;
        row.querySelector('.subtotal').innerText = '$' + subtotal.toFixed(2);
        total += subtotal;
      });
      cartTotalEl.innerText = '$' + total.toFixed(2);
      cartCount.innerText = rows.length;
    }

    cartItemsContainer.addEventListener('input', e => {
      if (e.target.classList.contains('qty')) updateCart();
    });
    cartItemsContainer.addEventListener('click', e => {
      if (e.target.classList.contains('remove')) {
        e.target.closest('tr').remove();
        updateCart();
      }
    });

    updateCart();

    checkoutBtn.addEventListener('click', () => {
      paymentFormSection.classList.remove('hidden');
      window.scrollTo({ top: paymentFormSection.offsetTop, behavior: 'smooth' });
    });

    paymentForm.addEventListener('submit', e => {
      e.preventDefault();
      alert('Gracias, ' + document.getElementById('name').value + '! Tu reserva por ' + cartTotalEl.innerText + ' ha sido confirmada.');
      cartItemsContainer.innerHTML = '';
      updateCart();
      paymentForm.reset();
      paymentFormSection.classList.add('hidden');
    });
  </script>

</body>
</html>
